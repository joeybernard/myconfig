var VaultInfoBanner=function(t,e,o,n){"use strict";var i=function(t){o.call(this,t,{maximizeButtonEnabled:!1,dynamicHeight:!0,hideHeader:!0,hideButtons:!0,confirmOnClose:!1,buttonsInsideContent:!0,isModal:!1}),i.prototype._options={}};function s(e){var o=i.prototype._options.dimensions,n=t("#options"),s=t("#tools"),p=t("#sharingMenu"),r=t("#emergencyAccessMenu");e?(n.removeAttr("style"),r.removeAttr("style"),s.removeAttr("style"),p.removeAttr("style"),t("#main").removeAttr("style")):(n.is(":visible")&&(n.css("top",o.dialogPosition.top+o.dialogDimensions.height),t("#main").css("top",n.innerHeight()+n.offset().top+"px")),p.is(":visible")&&(p.css("top",o.dialogPosition.top+o.dialogDimensions.height),n.css("top",p.innerHeight()+p.offset().top+"px"),t("#main").css("top",n.innerHeight()+n.offset().top+"px")),s.is(":visible")&&(s.css("top",o.dialogPosition.top+o.dialogDimensions.height),t("#main").css("top",s.innerHeight()+s.offset().top+"px")),r.is(":visible")&&(r.css("top",o.dialogPosition.top+o.dialogDimensions.height),t("#main").css("top",r.innerHeight()+r.offset().top+"px")))}function p(t,e,o,n,i){var s=0;switch(t){case"top":case"left":s=e?o:o+n;break;case"right":case"bottom":s=e?o+n-i:o-i}return s}function r(t,e,o,n,i){var s=0;switch(t){case"top":case"left":s=e;break;case"right":case"bottom":s=e+o-i;break;case"center":default:s=n-Math.round(i/2)}return s}return i.prototype=Object.create(o.prototype),i.prototype.createButton=function(e,o,n,i){if(e&&o){var s=o.style||"",p=o.sizeStyle||"col-6",r=t("<div></div>").addClass(p+" infoBtn").append(t("<button></button>").text(o.text).data("index",n).addClass("btn-base radius-sm "+s).off().on("click",i));e.append(r)}},i.prototype.setup=function(e,n){if(o.prototype.setup.apply(this,arguments),n){var s=this;i.prototype.$element=this.$element,i.prototype._options=n||{},i.prototype.sendSegmentEvent("show"),i.prototype.$element.removeClass().addClass("dialog responsive vault-info-banner"),i.prototype._options.dialogClass&&i.prototype.$element.addClass(i.prototype._options.dialogClass),i.prototype.setText(i.prototype._options.title,i.prototype.$element.find("#mainTitle"));var p="function"==typeof i.prototype._options.contentText1?i.prototype._options.contentText1():i.prototype._options.contentText1;i.prototype.setText(p,i.prototype.$element.find("#contentText1"));var r="function"==typeof i.prototype._options.contentText2?i.prototype._options.contentText2():i.prototype._options.contentText2;i.prototype.setText(r,i.prototype.$element.find("#contentText2"));var a=e.find("#btnClose");if(i.prototype._options.hideXCloseBtn)a.hide();else{var l=function(t){i.prototype._options.closeHandler&&"function"==typeof i.prototype._options.closeHandler&&i.prototype._options.closeHandler(),i.prototype.sendSegmentEvent("close"),s.close(!0)};a.off().on("click",l)}var d=s.$element.find(".buttons");t(".infoBtn").remove(),"banner"===i.prototype._options.dialogClass&&(d=s.$element.find(".mainTitle")),i.prototype._options.buttons=i.prototype._options.buttons?i.prototype._options.buttons:[];for(var c=0;c<i.prototype._options.buttons.length;c++){var g=function(e){e.preventDefault();var o=t(e.target).data("index");if(t.isNumeric(o)&&o>=0&&o<i.prototype._options.buttons.length){var n=i.prototype._options.buttons[o];void 0!==n.segment&&i.prototype.sendSegmentEvent(n.segment),n.action&&"function"==typeof n.action&&n.action(),n.closeOnClick&&s.close(!0)}};i.prototype.createButton(d,i.prototype._options.buttons[c],c,g)}i.prototype._options.dimensions={targetId:"#header",align:"left",orientation:"top",fillWidth:"#main"},t("#vault").addClass("vault-info-overrides"),i.prototype.setSize(i.prototype.$element,i.prototype._options.dimensions),i.prototype.setPosition(i.prototype.$element,i.prototype._options.dimensions),i.prototype.subscribeToWindowResize()}},i.prototype.setText=function(t,e){t&&e?e.text(t).show():e.hide()},i.prototype.setPosition=function(e,o){o.dialogPosition=null,o&&o.targetId&&(o.$targetEl=t(o.targetId),o.targetDimensions=i.prototype.getDimensions(o.$targetEl),o.dialogPosition=i.prototype.computeDialogPosition(e,o)),o.dialogPosition&&e.offset(o.dialogPosition),s()},i.prototype.setSize=function(e,o){if(o){o.$targetEl=t(o.targetId);var n=i.prototype.getDimensions(o.$targetEl),s;o.fillWidth?(s=t(o.fillWidth))&&s.length>0?e.width(s.width()):e.width(n.width):e.css("width",""),o.fillHeight?(s=t(o.fillHeight))&&s.length>0?e.height(s.height()):e.height(n.height):e.css("height","")}},i.prototype.subscribeToWindowResize=function(){i.prototype.positionAndResizeHandler=function(){i.prototype.setPosition(i.prototype.$element,i.prototype._options.dimensions),i.prototype.setSize(i.prototype.$element,i.prototype._options.dimensions)},window&&window.addEventListener("resize",i.prototype.positionAndResizeHandler),n.get(n.VAULT_LEFT_MENU_TOGGLE).subscribe(i.prototype.positionAndResizeHandler),n.get(n.EMPTY_VAULT_STATE_CHANGE).subscribe(i.prototype.positionAndResizeHandler)},i.prototype.unSubscribeToWindowResize=function(){"function"==typeof i.prototype.positionAndResizeHandler&&(n.get(n.VAULT_LEFT_MENU_TOGGLE).unsubscribe(i.prototype.positionAndResizeHandler),n.get(n.EMPTY_VAULT_STATE_CHANGE).unsubscribe(i.prototype.positionAndResizeHandler),window&&(window.removeEventListener&&window.removeEventListener("resize",i.prototype.positionAndResizeHandler),i.prototype.positionAndResizeHandler=null))},i.prototype.computeDialogPosition=function(t,e){if(t&&t.length>0&&e&&e.$targetEl.length>0){e.dialogDimensions=i.prototype.getDimensions(t);var o={top:0,left:0},n=e.align||"center";switch(e.orientation){case"top":case"bottom":o.left=r(n,e.targetDimensions.left,e.targetDimensions.width,e.targetDimensions.center.left,e.dialogDimensions.width),o.top=p(e.orientation,e.inside,e.targetDimensions.top,e.targetDimensions.height,e.dialogDimensions.height);break;case"left":case"right":o.top=r(n,e.targetDimensions.top,e.targetDimensions.height,e.targetDimensions.center.top,e.dialogDimensions.height),o.left=p(e.orientation,e.inside,e.targetDimensions.left,e.targetDimensions.width,e.dialogDimensions.width)}return e.offset&&(o.top+=e.offset.top,o.left+=e.offset.left),o}return null},i.prototype.getDimensions=function(e){if(e&&e.length>0){var o=t.extend({height:e.height(),width:e.width()},e.offset());return o.center={top:Math.round(o.top+o.height/2),left:Math.round(o.left+o.width/2)},o}return t.extend({height:0,width:0},{top:0,left:0,center:{top:0,left:0}})},i.prototype.close=function(e){e&&(s(!0),t("#vault").removeClass("vault-info-overrides"),o.prototype.close.apply(this,arguments),i.prototype.unSubscribeToWindowResize())},i.prototype.getZIndex=function(){var t=i.prototype.$element?i.prototype.$element.css("z-index"):"auto";if("auto"===t)return 0;var e=parseInt(t);return e<8?8:e},i.prototype.sendSegmentEvent=function(t){if(void 0!==i.prototype._options.segmentEvents&&void 0!==i.prototype._options.segmentEvents[t]){var e={};void 0!==i.prototype._options.segmentEvents[t].properties&&(e=i.prototype._options.segmentEvents[t].properties),bg.sendLpImprove(i.prototype._options.segmentEvents[t].name,e)}else console.log(t+" is not a defined segment event")},i}(jQuery,Strings,Dialog,Topics);
//# sourceMappingURL=sourcemaps/vaultInfoBanner.js.map
