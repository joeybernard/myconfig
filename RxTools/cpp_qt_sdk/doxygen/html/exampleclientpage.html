<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>GNSS Receiver Communication SDK for C++/Qt: Example client code</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">GNSS Receiver Communication SDK for C++/Qt
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Example client code </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The following example applications are provided:</p>
<ul>
<li>sendcommand: A simple application that connects to a receiver, and sends a single command. The method of connection (serial or tcp), the serial port or host name and connection settings, as well as the command to be sent must be given as command-line arguments. Invoke sendcommand without arguments to get more information on how to invoke sendcommand.</li>
<li>console: A simple application that connects to a receiver and displays information about the data being received from and sent to the receiver. The user can choose to display this information on the text console, and/or in a GUI window. The latter also makes it possible to enter and send ASCII commands to the receiver.</li>
</ul>
<p>The source code for these applications can be found in the examples folder.</p>
<h1><a class="anchor" id="exampleclientpage_interacting"></a>
Interaction with a receiver</h1>
<p>All interaction with a receiver is realized using an instance of the <a class="el" href="class_s_s_n_1_1_ssn_rx.html">SsnRx class</a>.</p>
<p>On one hand this class defines methods to connect to a receiver (using a serial port or over TCP/IP), and to send ASCII commands to the connected receiver.</p>
<p>On the other hand, this class defines a collection of <em>signals</em>, each of which are emitted when a particular state change occurs in the SsnRx object, e.g. when an SBF block is received.</p>
<p>Refer to the documentation of <a class="el" href="class_s_s_n_1_1_ssn_rx.html">SsnRx class</a> for the full list of signals and methods.</p>
<p>Hooking up client code to respond to the relevant state changes or receival of data happens by connecting so-called slots to the appropriate signals of SsnRx. (For more details on the signal/slot mechanism, see <a href="http://qt-project.org/doc/signalsandslots.html">http://qt-project.org/doc/signalsandslots.html</a>)</p>
<p>In its current state, it is required that the application enters a so-called event loop, in which the SsnRx instance can handle the communication with the receiver. SsnRx is currently restricted to be used only in the main application thread.</p>
<p>At a very high level of abstraction, the client code contains the following ingredients:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="ssnrx_8h.html">ssnrx.h</a>&quot;</span></div>
<div class="line"></div>
<div class="line">QApplication app(argc, argv);</div>
<div class="line">...</div>
<div class="line">SSN::SsnRx* rx = <span class="keyword">new</span> <a class="code" href="class_s_s_n_1_1_ssn_rx.html" title="SsnRx realizes connection and communication with a Septentrio receiver.">SSN::SsnRx</a>();</div>
<div class="line">...</div>
<div class="line">if (!rx-&gt;connectSerial(serialPortName, serialPortSettings))</div>
<div class="line">{</div>
<div class="line">  qFatal(<span class="stringliteral">&quot;Cannot open serial port %s. Exiting..&quot;</span>, qPrintable(serialPortName));</div>
<div class="line">}</div>
<div class="line">...</div>
<div class="line">connect(rx,SIGNAL(newSBFBlock(<span class="keyword">const</span> QByteArray&amp;)), targetObject, SLOT(processSBF(<span class="keyword">const</span> QByteArray&amp;)));</div>
<div class="line">...</div>
<div class="line"><span class="comment">// enter event loop</span></div>
<div class="line">app.exec();</div>
</div><!-- fragment --><p>In the future, SsnRx will be improved so that it can be used in a multi-threaded context. Likewise, it will become possible to use SsnRx without entering a main event loop.</p>
<h1><a class="anchor" id="exampleclientpage_noteonsbf"></a>
Note when using sbf.h</h1>
<p>The example applications included in this SDK do not parse the specific contents of the SBF blocks. For an example of how to do this, refer to the sbf2asc sample code that is available as part of the RxTools suite. That sample code includes sbfdef.h, a C header file facilitating the parsing of SBF blocks.</p>
<p>Note that when using sbfdef.h to interpret SBF blocks, your application must be compiled with 4-byte variable alignmnent. This can be enforced by including the following in your .pro files:</p>
<p><code> win32{ QMAKE_CFLAGS += -Zp4 QMAKE_CXXFLAGS += -Zp4 } unix{ QMAKE_CFLAGS += -mno-align-double QMAKE_CXXFLAGS += -mno-align-double } </code> </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Aug 25 2015 12:12:39 for GNSS Receiver Communication SDK for C++/Qt by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
